pipeline {
  agent any
  stages {
     stage('SonarQube') {
      steps {

           sh '''sonar-scanner \
               -Dsonar.organization=alanaaronmartinez \
               -Dsonar.projectKey=AlanAaronMartinez_DOTT \
               -Dsonar.sources=. \
               -Dsonar.host.url=https://sonarcloud.io
         '''    
        echo 'sonarcloud ECHO'
         
      }
    }
    stage('Unit Test') {
      steps {
        echo 'Unit testing'
      }
    }
    stage('build') {
      steps {
            checkout([$class: 'GitSCM', branches: [[name: '*/master']], extensions: [], userRemoteConfigs: [[credentialsId: '1850a253-8232-4f05-8c50-f5c8e7b13532', url: 'https://github.com/AlanAaronMartinez/DOTT.git']]])
            echo 'echo1'
            git credentialsId: '1850a253-8232-4f05-8c50-f5c8e7b13532', url: 'https://github.com/AlanAaronMartinez/DOTT.git'
            echo 'echo2'
            sh label: 'script', script: 'python api.py'
            echo 'echo3'
      }
    } 
  }
}
