pipeline {
  agent any
  environment {
    SCANNER_HOME= tool 'sonar'
    python = tool 'python'
  }
  stages {
    stage('Static Code Analysis') {
      steps {
        sh '''
        echo "${SCANNER_HOME}"
        '''
        }
      }
      stage('checkout') {
      steps {
            checkout([$class: 'GitSCM', branches: [[name: '*/master']], extensions: [], userRemoteConfigs: [[credentialsId: '1850a253-8232-4f05-8c50-f5c8e7b13532', url: 'https://github.com/AlanAaronMartinez/DOTT.git']]])
            echo 'echo1'
            git credentialsId: '1850a253-8232-4f05-8c50-f5c8e7b13532', url: 'https://github.com/AlanAaronMartinez/DOTT.git'
            echo 'echo2'
      }
    } 
      stage('Unit Test') {
         steps {
                 echo 'Unit testing'
           sh '''
           python api.py
           '''
         }
      }
    stage('build') {
      steps { 
             echo 'echo3'
      }
    } 
  }
}
